<div *ngIf="ro">
  <div class="jumbotron">
    <h3 class="mb-4">{{ ro.name }}</h3>
    <p>Reporting Obligation: {{ ro.obligation }}</p>
    <div>
      <h4 class="my-2">Occurs in</h4>
      <table class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">
              Website
            </th>
            <th scope="col">
              Document title
            </th>
            <th scope="col" sortable="date" (sort)="onSortOccursIn($event)">
              <fa-icon [icon]="occursInDateSortIcon"></fa-icon> Date
            </th>
            <th scope="col">
              Content
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let doc of occursIn">
            <td>
              {{ doc.websiteName }}
            </td>
            <td>
              <a [routerLink]="['/document', ro.id, doc.id]">
                {{ doc.title }}
              </a>
            </td>
            <td>
              {{ doc.date | date }}
            </td>
            <td [innerHTML]="doc.content"></td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-between p-0">
        <ngb-pagination
          (pageChange)="loadOccursInPage($event)"
          [collectionSize]="occursInTotal"
          [(page)]="occursInPage"
          [pageSize]="occursInPageSize"
          [maxSize]="10"
          [ellipses]="true"
        >
        </ngb-pagination>
      </div>
    </div>
    <div>
      <h4 class="my-2">Defined in</h4>
      <table class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">
              Website
            </th>
            <th scope="col">
              Document title
            </th>
            <th scope="col" sortable="date" (sort)="onSortDefinedIn($event)">
              <fa-icon [icon]="definedInDateSortIcon"></fa-icon> Date
            </th>
            <th scope="col">
              Content
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let doc of definedIn">
            <td>
              {{ doc.websiteName }}
            </td>
            <td>
              <a [routerLink]="['/document', ro.id, doc.id]">
                {{ doc.title }}
              </a>
            </td>
            <td>
              {{ doc.date | date }}
            </td>
            <td [innerHTML]="doc.content"></td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-between p-0">
        <ngb-pagination
          (pageChange)="loadDefinedInPage($event)"
          [collectionSize]="definedInTotal"
          [(page)]="definedInPage"
          [pageSize]="definedInPageSize"
          [maxSize]="10"
          [ellipses]="true"
        >
        </ngb-pagination>
      </div>
    </div>
  </div>
</div>
